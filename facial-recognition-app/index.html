<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FaceScan Pro - Syst√®me de Pr√©sence</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Outfit', sans-serif;
      background: radial-gradient(circle at top right, #1e1e2f, #0f0f1a);
      color: #ffffff;
      min-height: 100vh;
      overflow-x: hidden;
    }

    .glass {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    }

    .glass-dark {
      background: rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .gradient-text {
      background: linear-gradient(135deg, #a78bfa 0%, #6366f1 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .btn-primary {
      background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
      transition: all 0.3s ease;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
    }

    .btn-secondary {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }

    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .video-container {
      position: relative;
      border-radius: 24px;
      overflow: hidden;
      border: 2px solid rgba(255, 255, 255, 0.1);
    }

    .pulse {
      animation: pulse-animation 2s infinite;
    }

    @keyframes pulse-animation {
      0% {
        box-shadow: 0 0 0 0px rgba(99, 102, 241, 0.4);
      }

      100% {
        box-shadow: 0 0 0 20px rgba(99, 102, 241, 0);
      }
    }

    .custom-scrollbar::-webkit-scrollbar {
      width: 6px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.05);
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 10px;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      display: inline-block;
      margin-right: 8px;
    }

    .status-online {
      background-color: #10b981;
    }

    .status-offline {
      background-color: #ef4444;
    }
  </style>
</head>

<body class="p-4 md:p-8">
  <div class="max-w-7xl mx-auto h-full flex flex-col">
    <!-- Header -->
    <header class="flex justify-between items-center mb-10">
      <div>
        <h1 class="text-4xl font-bold gradient-text">FaceScan Pro</h1>
        <p class="text-gray-400 mt-1">Intelligence Artificielle & Reconnaissance</p>
      </div>
      <div class="glass px-6 py-3 rounded-2xl flex items-center gap-4">
        <div class="flex items-center">
          <span class="status-dot status-online"></span>
          <span class="text-sm font-medium">Backend Online</span>
        </div>
        <div class="h-6 w-px bg-white/10"></div>
        <div class="text-sm font-light text-gray-300" id="current-time">12:34:56</div>
      </div>
    </header>

    <!-- Status Notification -->
    <div id="notification-area" class="fixed top-8 right-8 z-50 transform transition-all duration-300 translate-x-full">
      <!-- Notifications will appear here -->
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 flex-1">
      <!-- Left Panel: Video & Controls -->
      <div class="lg:col-span-8 flex flex-col gap-6">
        <!-- Video Section -->
        <div class="glass rounded-[32px] p-4 flex-1 flex flex-col">
          <div class="video-container bg-black flex-1 min-h-[400px]">
            <video id="video" class="w-full h-full object-cover" autoplay muted playsinline></video>
            <canvas id="canvas" class="hidden"></canvas>

            <!-- Scanning Overlay -->
            <div id="scan-overlay" class="absolute inset-0 border-2 border-indigo-500/30 pointer-events-none hidden">
              <div
                class="absolute inset-0 bg-gradient-to-b from-transparent via-indigo-500/10 to-transparent h-1/4 w-full animate-bounce">
              </div>
            </div>

            <!-- Recognition Feedback -->
            <div id="recognition-feedback"
              class="absolute bottom-6 left-6 right-6 glass p-4 rounded-2xl border-indigo-500/40 opacity-0 transition-opacity duration-300">
              <!-- Info shown here after recognition -->
            </div>
          </div>

          <!-- Main Controls -->
          <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="flex gap-2">
              <input type="text" id="username" placeholder="Entrez le nom pour l'inscription..."
                class="flex-1 glass-dark border-0 rounded-2xl px-6 py-4 focus:ring-2 focus:ring-indigo-500 transition-all text-white placeholder-gray-500 outline-none">
              <button onclick="document.getElementById('file-input').click()" class="btn-secondary px-5 rounded-2xl"
                title="Charger une photo">
                üì∑
              </button>
              <input type="file" id="file-input" class="hidden" accept="image/*">
            </div>
            <div class="flex gap-3">
              <button onclick="registerFace()"
                class="btn-primary flex-1 py-4 rounded-2xl font-bold text-white flex items-center justify-center gap-2">
                <span>üìù</span> Inscription
              </button>
              <button onclick="recognizeFace()" id="btn-recognize"
                class="bg-white text-black hover:bg-gray-200 flex-1 py-4 rounded-2xl font-bold flex items-center justify-center gap-2 transition-all">
                <span>üîç</span> Analyser
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Panel: Data & Stats -->
      <div class="lg:col-span-4 flex flex-col gap-6">
        <!-- Stats Section -->
        <div class="glass rounded-[32px] p-8">
          <h3 class="text-xl font-bold mb-6 flex items-center gap-2">
            <span class="text-2xl">üìä</span> Statistiques Globales
          </h3>
          <div class="grid grid-cols-2 gap-4" id="stats-container">
            <div class="glass-dark p-4 rounded-2xl text-center">
              <div class="text-gray-400 text-xs mb-1 uppercase tracking-wider">Membres</div>
              <div class="text-2xl font-bold text-indigo-400" id="stat-persons">0</div>
            </div>
            <div class="glass-dark p-4 rounded-2xl text-center">
              <div class="text-gray-400 text-xs mb-1 uppercase tracking-wider">Succ√®s</div>
              <div class="text-2xl font-bold text-emerald-400" id="stat-rate">0%</div>
            </div>
            <div class="glass-dark p-4 rounded-2xl text-center col-span-2">
              <div class="text-gray-400 text-xs mb-1 uppercase tracking-wider">Total Scans</div>
              <div class="text-2xl font-bold text-white" id="stat-total">0</div>
            </div>
          </div>
        </div>

        <!-- Last Activity -->
        <div class="glass rounded-[32px] p-8 flex-1 flex flex-col min-h-0">
          <h3 class="text-xl font-bold mb-6 flex items-center gap-2">
            <span class="text-2xl">üë•</span> Membres Enregistr√©s
          </h3>
          <div id="persons-list" class="flex-1 overflow-y-auto custom-scrollbar space-y-3 pr-2">
            <!-- List items added here -->
            <div class="text-gray-500 italic text-center py-10">Chargement...</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="app.js"></script>
</body>

</html>